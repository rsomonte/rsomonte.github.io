---
layout: layout.html
---
<head><link href="https://fonts.googleapis.com/css2?family=Libre+Clarendon:wght@700&display=swap" rel="stylesheet"></head> <!-- Don't quite remember why this is here xd -->

<div class="post-title-container">
    <h1><u>{{ title | default: "My test blog" }}</u></h1>
    <button id="contrast-toggle" class="contrast-toggle-btn" aria-label="Toggle high contrast mode" title="Toggle high contrast text">
        <span class="contrast-label">High Contrast</span>
    </button>
</div>

<!-- This shows the date and tags -->
<p class="post-date" style="margin-bottom: 0.2em; margin-top: -1em;">Published on: {{ page.date | date: "%B %d, %Y" }}</p>
<p class="post-tags" style="margin-top: 0.2em;">
    Tags: 
    {% for tag in tags | filterTagList %}
    {% if tag != "post" %}
        {% assign tagUrl = "/tags/" | append: tag | append: "/" %}
        <a href="{{ tagUrl }}" class="post-tag">{{ tag }}</a>
    {% endif %}
    {% endfor %}
</p>

{{ content }}

<!-- This shows the previous and next posts at the end of the post -->
<nav class="links-nextprev">
    {% assign previousPost = collections.posts | getPreviousCollectionItem %}
    {% assign nextPost = collections.posts | getNextCollectionItem %}

    <div class="links-nextprev-previous">
        {% if previousPost %}
            <p style="font-style: italic; margin-bottom: 0.2em; margin-top: 0;">Previous post</p>
            <a href="{{ previousPost.url }}">&larr; {{ previousPost.data.title }}</a>
        {% endif %}
    </div>
    <div class="links-nextprev-next">
        {% if nextPost %}
            <p style="font-style: italic; margin-bottom: 0.2em; margin-top: 0;">Next post</p>
            <a href="{{ nextPost.url }}">{{ nextPost.data.title }} &rarr;</a>
        {% endif %}
    </div>
</nav>

<script>
    // High Contrast Toggle Functionality
    (function() {
        const STORAGE_KEY = 'high-contrast-mode';
        const CONTRAST_CLASS = 'high-contrast-mode';
        const button = document.getElementById('contrast-toggle');
        
        // Load saved preference
        function loadContrastPreference() {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved === 'enabled') {
                document.documentElement.classList.add(CONTRAST_CLASS);
                updateButtonState(true);
            }
        }
        
        // Update button appearance
        function updateButtonState(isEnabled) {
            if (isEnabled) {
                button.classList.add('active');
                button.setAttribute('aria-pressed', 'true');
            } else {
                button.classList.remove('active');
                button.setAttribute('aria-pressed', 'false');
            }
        }
        
        // Toggle contrast mode
        function toggleContrast() {
            const isCurrentlyEnabled = document.documentElement.classList.contains(CONTRAST_CLASS);
            if (isCurrentlyEnabled) {
                document.documentElement.classList.remove(CONTRAST_CLASS);
                localStorage.setItem(STORAGE_KEY, 'disabled');
                updateButtonState(false);
            } else {
                document.documentElement.classList.add(CONTRAST_CLASS);
                localStorage.setItem(STORAGE_KEY, 'enabled');
                updateButtonState(true);
            }
        }
        
        // Initialize
        if (button) {
            loadContrastPreference();
            button.addEventListener('click', toggleContrast);
            button.setAttribute('aria-pressed', document.documentElement.classList.contains(CONTRAST_CLASS));
        }
    })();
</script>